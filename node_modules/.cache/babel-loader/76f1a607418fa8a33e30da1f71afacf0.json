{"ast":null,"code":"import _regeneratorRuntime from\"/Users/phil/Desktop/react-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/phil/Desktop/react-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/phil/Desktop/react-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useRef,useState}from\"react\";import{AuthContext}from\"../../context/AuthContext\";import{useHistory}from\"react-router\";import data from\"../../assets/data.js\";import{Context}from\"../../context/langContext\";import{useSelector,useDispatch}from\"react-redux\";import\"./AuthForm.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var showAuth=useSelector(function(state){return state;});var dispatch=useDispatch();var _useContext=useContext(Context),lang=_useContext.lang;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var history=useHistory();var _useContext2=useContext(AuthContext),login=_useContext2.login;var inputs=useRef([]);var addInputs=function addInputs(el){if(el&&!inputs.current.includes(el)){inputs.current.push(el);}};function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return login(inputs.current[0].value,inputs.current[1].value);case 4:dispatch({type:\"TOGGLEAUTH\"});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(data[lang].errorSignIn);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"h2\",{children:data[lang].connect}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mail\",children:data[lang].mail}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",ref:addInputs,htmlFor:\"email\",required:true,autoComplete:\"off\",placeholder:data[lang].mailPlaceholder})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"psw\",children:data[lang].psw}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",ref:addInputs,htmlFor:\"psw\",id:\"psw\",required:true,autoComplete:\"off\",placeholder:data[lang].pswPlaceholder})]}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-sign\",children:[\" \",data[lang].connectBtn]})]})});}","map":{"version":3,"sources":["/Users/phil/Desktop/react-calculator/src/Components/AuthForm/SignIn.js"],"names":["React","useContext","useRef","useState","AuthContext","useHistory","data","Context","useSelector","useDispatch","SignIn","showAuth","state","dispatch","lang","error","setError","history","login","inputs","addInputs","el","current","includes","push","handleSubmit","e","preventDefault","value","type","errorSignIn","connect","mail","mailPlaceholder","psw","pswPlaceholder","connectBtn"],"mappings":"8cAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,MAA5B,CAAoCC,QAApC,KAAoD,OAApD,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,OAASC,OAAT,KAAwB,2BAAxB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,gBAAP,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,CAAC,SAACI,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAA5B,CACA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,gBAAiBR,UAAU,CAACM,OAAD,CAA3B,CAAQO,IAAR,aAAQA,IAAR,CACA,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CACA,iBAAkBJ,UAAU,CAACG,WAAD,CAA5B,CAAQc,KAAR,cAAQA,KAAR,CAEA,GAAMC,CAAAA,MAAM,CAAGjB,MAAM,CAAC,EAAD,CAArB,CAEA,GAAMkB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAQ,CACxB,GAAIA,EAAE,EAAI,CAACF,MAAM,CAACG,OAAP,CAAeC,QAAf,CAAwBF,EAAxB,CAAX,CAAwC,CACtCF,MAAM,CAACG,OAAP,CAAeE,IAAf,CAAoBH,EAApB,EACD,CACF,CAJD,CAX+B,QAiBhBI,CAAAA,YAjBgB,gJAiB/B,iBAA4BC,CAA5B,kHACEA,CAAC,CAACC,cAAF,GADF,sCAIUT,CAAAA,KAAK,CAACC,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBM,KAAnB,CAA0BT,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBM,KAA5C,CAJf,QAKIf,QAAQ,CAAC,CACPgB,IAAI,CAAE,YADC,CAAD,CAAR,CALJ,+EASIb,QAAQ,CAACV,IAAI,CAACQ,IAAD,CAAJ,CAAWgB,WAAZ,CAAR,CATJ,oEAjB+B,+CA8B/B,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,cAAM,QAAQ,CAAEL,YAAhB,CAA8B,YAAY,CAAC,KAA3C,wBACE,oBAAKnB,IAAI,CAACQ,IAAD,CAAJ,CAAWiB,OAAhB,EADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,MAAf,UAAuBzB,IAAI,CAACQ,IAAD,CAAJ,CAAWkB,IAAlC,EADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,GAAG,CAAEZ,SAFP,CAGE,OAAO,CAAC,OAHV,CAIE,QAAQ,KAJV,CAKE,YAAY,CAAC,KALf,CAME,WAAW,CAAEd,IAAI,CAACQ,IAAD,CAAJ,CAAWmB,eAN1B,EAFF,GAFF,cAaE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,KAAf,UAAsB3B,IAAI,CAACQ,IAAD,CAAJ,CAAWoB,GAAjC,EADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,GAAG,CAAEd,SAFP,CAGE,OAAO,CAAC,KAHV,CAIE,EAAE,CAAC,KAJL,CAKE,QAAQ,KALV,CAME,YAAY,CAAC,KANf,CAOE,WAAW,CAAEd,IAAI,CAACQ,IAAD,CAAJ,CAAWqB,cAP1B,EAFF,GAbF,cAyBE,YAAK,SAAS,CAAC,OAAf,UAAwBpB,KAAxB,EAzBF,cA0BE,gBAAQ,SAAS,CAAC,UAAlB,eAA+BT,IAAI,CAACQ,IAAD,CAAJ,CAAWsB,UAA1C,GA1BF,GADF,EADF,CAgCD","sourcesContent":["import React, { useContext, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useHistory } from \"react-router\";\nimport data from \"../../assets/data.js\";\nimport { Context } from \"../../context/langContext\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./AuthForm.css\";\n\nexport default function SignIn() {\n  const showAuth = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const { lang } = useContext(Context);\n  const [error, setError] = useState(\"\");\n  const history = useHistory();\n  const { login } = useContext(AuthContext);\n\n  const inputs = useRef([]);\n\n  const addInputs = (el) => {\n    if (el && !inputs.current.includes(el)) {\n      inputs.current.push(el);\n    }\n  };\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      await login(inputs.current[0].value, inputs.current[1].value);\n      dispatch({\n        type: \"TOGGLEAUTH\",\n      });\n    } catch {\n      setError(data[lang].errorSignIn);\n    }\n  }\n\n  return (\n    <div className=\"auth-container\">\n      <form onSubmit={handleSubmit} autoComplete=\"off\">\n        <h2>{data[lang].connect}</h2>\n        <div className=\"form-group\">\n          <label htmlFor=\"mail\">{data[lang].mail}</label>\n          <input\n            type=\"email\"\n            ref={addInputs}\n            htmlFor=\"email\"\n            required\n            autoComplete=\"off\"\n            placeholder={data[lang].mailPlaceholder}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"psw\">{data[lang].psw}</label>\n          <input\n            type=\"password\"\n            ref={addInputs}\n            htmlFor=\"psw\"\n            id=\"psw\"\n            required\n            autoComplete=\"off\"\n            placeholder={data[lang].pswPlaceholder}\n          />\n        </div>\n        <div className=\"error\">{error}</div>\n        <button className=\"btn-sign\"> {data[lang].connectBtn}</button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}