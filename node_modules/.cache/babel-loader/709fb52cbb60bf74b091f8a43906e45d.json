{"ast":null,"code":"import _regeneratorRuntime from\"/Users/phil/Desktop/react-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/phil/Desktop/react-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/phil/Desktop/react-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useRef,useState,useEffect}from\"react\";import{AuthContext}from\"../../context/AuthContext\";import{useHistory}from\"react-router\";import data from\"../../assets/data.js\";import{Context}from\"../../context/langContext\";import{useSelector,useDispatch}from\"react-redux\";import\"./AuthForm.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUp(){var showAuth=useSelector(function(state){return state;});var dispatch=useDispatch();var _useContext=useContext(Context),lang=_useContext.lang;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var history=useHistory();var _useContext2=useContext(AuthContext),signUp=_useContext2.signUp;var inputs=useRef([]);var addInputs=function addInputs(el){if(el&&!inputs.current.includes(el)){inputs.current.push(el);}};function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return signUp(inputs.current[0].value,inputs.current[1].value);case 4:dispatch({type:\"TOGGLEAUTH\"});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(data[lang].errorSignUp);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:data[lang].signUp}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mail\",children:data[lang].mail}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",ref:addInputs,htmlFor:\"email\",required:true,autoComplete:\"off\",placeholder:data[lang].mailPlaceholder})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"psw\",children:data[lang].psw}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",ref:addInputs,id:\"psw\",required:true,autoComplete:\"off\",placeholder:data[lang].pswPlaceholder})]}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-sign\",children:data[lang].signUpBtn})]})});}","map":{"version":3,"sources":["/Users/phil/Desktop/react-calculator/src/Components/AuthForm/SignUp.js"],"names":["React","useContext","useRef","useState","useEffect","AuthContext","useHistory","data","Context","useSelector","useDispatch","SignUp","showAuth","state","dispatch","lang","error","setError","history","signUp","inputs","addInputs","el","current","includes","push","handleSubmit","e","preventDefault","value","type","errorSignUp","mail","mailPlaceholder","psw","pswPlaceholder","signUpBtn"],"mappings":"8cAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,MAA5B,CAAoCC,QAApC,CAA8CC,SAA9C,KAA+D,OAA/D,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,OAASC,OAAT,KAAwB,2BAAxB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,gBAAP,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,CAAC,SAACI,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAA5B,CACA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,gBAAiBT,UAAU,CAACO,OAAD,CAA3B,CAAQO,IAAR,aAAQA,IAAR,CACA,cAA0BZ,QAAQ,CAAC,EAAD,CAAlC,wCAAOa,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CACA,iBAAmBL,UAAU,CAACI,WAAD,CAA7B,CAAQc,MAAR,cAAQA,MAAR,CAEA,GAAMC,CAAAA,MAAM,CAAGlB,MAAM,CAAC,EAAD,CAArB,CAEA,GAAMmB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAQ,CACxB,GAAIA,EAAE,EAAI,CAACF,MAAM,CAACG,OAAP,CAAeC,QAAf,CAAwBF,EAAxB,CAAX,CAAwC,CACtCF,MAAM,CAACG,OAAP,CAAeE,IAAf,CAAoBH,EAApB,EACD,CACF,CAJD,CAV+B,QAgBhBI,CAAAA,YAhBgB,gJAgB/B,iBAA4BC,CAA5B,kHACEA,CAAC,CAACC,cAAF,GADF,sCAIUT,CAAAA,MAAM,CAACC,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBM,KAAnB,CAA0BT,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBM,KAA5C,CAJhB,QAKIf,QAAQ,CAAC,CACPgB,IAAI,CAAE,YADC,CAAD,CAAR,CALJ,+EASIb,QAAQ,CAACV,IAAI,CAACQ,IAAD,CAAJ,CAAWgB,WAAZ,CAAR,CATJ,oEAhB+B,+CA6B/B,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,cAAM,QAAQ,CAAEL,YAAhB,wBACE,oBAAKnB,IAAI,CAACQ,IAAD,CAAJ,CAAWI,MAAhB,EADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,MAAf,UAAuBZ,IAAI,CAACQ,IAAD,CAAJ,CAAWiB,IAAlC,EADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,GAAG,CAAEX,SAFP,CAGE,OAAO,CAAC,OAHV,CAIE,QAAQ,KAJV,CAKE,YAAY,CAAC,KALf,CAME,WAAW,CAAEd,IAAI,CAACQ,IAAD,CAAJ,CAAWkB,eAN1B,EAFF,GAFF,cAaE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,KAAf,UAAsB1B,IAAI,CAACQ,IAAD,CAAJ,CAAWmB,GAAjC,EADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,GAAG,CAAEb,SAFP,CAGE,EAAE,CAAC,KAHL,CAIE,QAAQ,KAJV,CAKE,YAAY,CAAC,KALf,CAME,WAAW,CAAEd,IAAI,CAACQ,IAAD,CAAJ,CAAWoB,cAN1B,EAFF,GAbF,cAwBE,YAAK,SAAS,CAAC,OAAf,UAAwBnB,KAAxB,EAxBF,cAyBE,eAAQ,SAAS,CAAC,UAAlB,UAA8BT,IAAI,CAACQ,IAAD,CAAJ,CAAWqB,SAAzC,EAzBF,GADF,EADF,CA+BD","sourcesContent":["import React, { useContext, useRef, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useHistory } from \"react-router\";\nimport data from \"../../assets/data.js\";\nimport { Context } from \"../../context/langContext\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./AuthForm.css\";\n\nexport default function SignUp() {\n  const showAuth = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const { lang } = useContext(Context);\n  const [error, setError] = useState(\"\");\n  const history = useHistory();\n  const { signUp } = useContext(AuthContext);\n\n  const inputs = useRef([]);\n\n  const addInputs = (el) => {\n    if (el && !inputs.current.includes(el)) {\n      inputs.current.push(el);\n    }\n  };\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      await signUp(inputs.current[0].value, inputs.current[1].value);\n      dispatch({\n        type: \"TOGGLEAUTH\",\n      });\n    } catch {\n      setError(data[lang].errorSignUp);\n    }\n  }\n\n  return (\n    <div className=\"auth-container\">\n      <form onSubmit={handleSubmit}>\n        <h2>{data[lang].signUp}</h2>\n        <div className=\"form-group\">\n          <label htmlFor=\"mail\">{data[lang].mail}</label>\n          <input\n            type=\"email\"\n            ref={addInputs}\n            htmlFor=\"email\"\n            required\n            autoComplete=\"off\"\n            placeholder={data[lang].mailPlaceholder}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"psw\">{data[lang].psw}</label>\n          <input\n            type=\"password\"\n            ref={addInputs}\n            id=\"psw\"\n            required\n            autoComplete=\"off\"\n            placeholder={data[lang].pswPlaceholder}\n          />\n        </div>\n        <div className=\"error\">{error}</div>\n        <button className=\"btn-sign\">{data[lang].signUpBtn}</button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}